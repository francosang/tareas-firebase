import{r as g,d as E,e as d,f as l,h as e,u as I,F as b,j as k,k as v,l as B,v as M,m as q,n as z,p as S,q as w,x as G,y as O,z as U}from"./vue-vendor-D4UAUlxI.js";import{u as K,V as R}from"./vuefire-vendor-DXQXz-9s.js";import{J as W,K as H,M as Q,N as j,O as X,P as V,Q as Y,R as x,U as Z,V as J,W as ee,X as te,Y as se,Z as ae}from"./firebase-vendor-DaQHu6Xo.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const t of a)if(t.type==="childList")for(const p of t.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function c(a){const t={};return a.integrity&&(t.integrity=a.integrity),a.referrerPolicy&&(t.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?t.credentials="include":a.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(a){if(a.ep)return;a.ep=!0;const t=c(a);fetch(a.href,t)}})();const oe={apiKey:"AIzaSyC6alh3mfd6xVUF4IqBM4eHVyv5eVV5mNk",authDomain:"test-app-18ab0.firebaseapp.com",projectId:"test-app-18ab0",storageBucket:"test-app-18ab0.firebasestorage.app",messagingSenderId:"907232824807",appId:"1:907232824807:web:653e6f4b6f2e47924f4142",measurementId:"G-VM2ZW3X3Y5"},C=W(oe),f=H(C),A=Q(C),h="tareas",ne=n=>j(V(f,h),X("userId","==",n)),re=async({title:n,userId:s})=>{if(!n||!n.trim())throw new Error("Todo title is required");if(!s)throw new Error("User ID is required");return await Y(V(f,h),{title:n.trim(),completed:!1,createdAt:new Date().toISOString(),userId:s})},le=async(n,s)=>{if(!n)throw new Error("Todo ID is required");const c=x(f,h,n);await Z(c,{completed:!s})},ie=async n=>{if(!n)throw new Error("Todo ID is required");const s=x(f,h,n);await J(s)},ce=new ee,de=async()=>{try{return await ae(A,ce)}catch(n){throw console.error("Error signing in with Google:",n),new Error("Failed to sign in with Google. Please try again.")}},ue=async()=>{try{await se(A)}catch(n){throw console.error("Error signing out:",n),new Error("Failed to sign out. Please try again.")}},pe=n=>te(A,n),T=(n,s)=>{const c=n.__vccOpts||n;for(const[i,a]of s)c[i]=a;return c},ve={class:"todos-wrapper"},ge={class:"stats-card"},fe={class:"stat"},he={class:"stat-value"},me={class:"stat"},_e={class:"stat-value"},ye={class:"stat"},be={class:"stat-value"},we={class:"add-todo-card"},ke={class:"input-group"},Ce=["disabled"],Ae={class:"todos-container"},Te={key:0,class:"loading-state"},$e={key:1,class:"empty-state"},Ee={class:"empty-icon"},Ie={class:"empty-text"},Oe={key:2,class:"todos-list"},Ve={class:"todo-content"},xe=["checked","onChange"],Le={class:"todo-title"},Ne=["onClick"],De={__name:"TodosList",props:{user:{type:Object,required:!0}},setup(n){const s=n,c=ne(s.user.uid),{data:i,pending:a}=K(c),t=g(""),p=g("all"),m=E(()=>{if(!i.value)return[];let r=[];return p.value==="active"?r=i.value.filter(o=>!o.completed):p.value==="completed"?r=i.value.filter(o=>o.completed):r=[...i.value],r.sort((o,u)=>{const y=new Date(o.createdAt||0),P=new Date(u.createdAt||0);return y-P})}),_=E(()=>i.value?{total:i.value.length,active:i.value.filter(r=>!r.completed).length,completed:i.value.filter(r=>r.completed).length}:{total:0,active:0,completed:0}),$=async()=>{if(t.value.trim())try{await re({title:t.value,userId:s.user.uid}),t.value=""}catch(r){console.error("Error adding todo:",r)}},N=async r=>{try{await le(r.id,r.completed)}catch(o){console.error("Error toggling todo:",o)}},D=async r=>{try{await ie(r)}catch(o){console.error("Error deleting todo:",o)}},F=r=>{r.key==="Enter"&&$()};return(r,o)=>(l(),d("div",ve,[e("div",ge,[I(a)?(l(),d(b,{key:0},[o[1]||(o[1]=k('<div class="stat stat-loading" data-v-a14faf30><div class="stat-skeleton" data-v-a14faf30></div><span class="stat-label" data-v-a14faf30>Total</span></div><div class="stat stat-loading" data-v-a14faf30><div class="stat-skeleton" data-v-a14faf30></div><span class="stat-label" data-v-a14faf30>Activas</span></div><div class="stat stat-loading" data-v-a14faf30><div class="stat-skeleton" data-v-a14faf30></div><span class="stat-label" data-v-a14faf30>Completadas</span></div>',3))],64)):(l(),d(b,{key:1},[e("div",fe,[e("span",he,v(_.value.total),1),o[2]||(o[2]=e("span",{class:"stat-label"},"Total",-1))]),e("div",me,[e("span",_e,v(_.value.active),1),o[3]||(o[3]=e("span",{class:"stat-label"},"Activas",-1))]),e("div",ye,[e("span",be,v(_.value.completed),1),o[4]||(o[4]=e("span",{class:"stat-label"},"Completadas",-1))])],64))]),e("div",we,[e("div",ke,[B(e("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>t.value=u),onKeypress:F,type:"text",placeholder:"¬øQu√© necesitas hacer?",class:"todo-input"},null,544),[[M,t.value]]),e("button",{onClick:$,class:"add-btn",disabled:!t.value.trim()},[...o[5]||(o[5]=[e("span",{class:"btn-icon"},"+",-1),q(" Agregar ",-1)])],8,Ce)])]),e("div",Ae,[I(a)?(l(),d("div",Te,[...o[6]||(o[6]=[e("div",{class:"spinner"},null,-1),e("p",{class:"loading-text"},"Cargando tus tareas...",-1)])])):!m.value||m.value.length===0?(l(),d("div",$e,[e("div",Ee,v(p.value==="completed"?"üéâ":"üìã"),1),e("p",Ie,v(p.value==="completed"?"¬°A√∫n no hay tareas completadas!":"¬°No hay tareas! Agrega una arriba."),1)])):(l(),d("ul",Oe,[(l(!0),d(b,null,z(m.value,u=>(l(),d("li",{key:u.id,class:S(["todo-item",{completed:u.completed}])},[e("div",Ve,[e("input",{type:"checkbox",checked:u.completed,onChange:y=>N(u),class:"todo-checkbox"},null,40,xe),e("span",Le,v(u.title),1)]),e("button",{onClick:y=>D(u.id),class:"delete-btn",title:"Eliminar tarea"},[...o[7]||(o[7]=[e("span",null,"üóëÔ∏è",-1)])],8,Ne)],2))),128))]))])]))}},Fe=T(De,[["__scopeId","data-v-a14faf30"]]),Pe={class:"login-container"},Be={class:"login-card"},Me=["disabled"],qe={key:0},ze={key:1},Se={key:0,class:"error-message"},Ge={__name:"Login",setup(n){const s=g(!1),c=g(""),i=async()=>{s.value=!0,c.value="";try{await de()}catch(a){console.error("Error al iniciar sesi√≥n:",a),c.value=a.message||"Error al iniciar sesi√≥n. Por favor, intenta de nuevo."}finally{s.value=!1}};return(a,t)=>(l(),d("div",Pe,[e("div",Be,[t[1]||(t[1]=e("div",{class:"login-icon"},"üîê",-1)),t[2]||(t[2]=e("h2",{class:"login-title"},"Bienvenido",-1)),t[3]||(t[3]=e("p",{class:"login-subtitle"},"Inicia sesi√≥n para acceder a tus tareas",-1)),e("button",{onClick:i,class:"google-btn",disabled:s.value},[t[0]||(t[0]=k('<svg class="google-icon" viewBox="0 0 24 24" data-v-e7229bc1><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" data-v-e7229bc1></path><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" data-v-e7229bc1></path><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" data-v-e7229bc1></path><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" data-v-e7229bc1></path></svg>',1)),s.value?(l(),d("span",ze,"Cargando...")):(l(),d("span",qe,"Continuar con Google"))],8,Me),c.value?(l(),d("p",Se,v(c.value),1)):w("",!0),t[4]||(t[4]=e("p",{class:"login-note"}," Tus tareas se sincronizar√°n autom√°ticamente con tu cuenta ",-1))])]))}},Ue=T(Ge,[["__scopeId","data-v-e7229bc1"]]),Ke={class:"app-container"},Re={class:"header-content"},We={class:"header-top"},He={key:0,class:"user-section"},Qe={class:"user-info"},je=["src","alt"],Xe={class:"user-name"},Ye={key:0,class:"loading-container"},Ze={__name:"App",setup(n){const s=g(null),c=g(!0);G(()=>{pe(a=>{s.value=a,c.value=!1})});const i=async()=>{try{await ue()}catch(a){console.error("Error al cerrar sesi√≥n:",a)}};return(a,t)=>(l(),d("div",Ke,[e("header",null,[e("div",Re,[e("div",We,[t[0]||(t[0]=k('<div class="logo-section" data-v-7a2cd457><span class="logo-icon" data-v-7a2cd457>üìù</span><div class="title-section" data-v-7a2cd457><h1 class="app-title" data-v-7a2cd457>Tareas Firebase</h1><p class="subtitle" data-v-7a2cd457>Aplicaci√≥n moderna con Vue 3 y Firebase</p></div></div>',1)),s.value?(l(),d("div",He,[e("div",Qe,[s.value.photoURL?(l(),d("img",{key:0,src:s.value.photoURL,alt:s.value.displayName,class:"user-avatar"},null,8,je)):w("",!0),e("span",Xe,v(s.value.displayName),1)]),e("button",{onClick:i,class:"logout-btn"}," Cerrar sesi√≥n ")])):w("",!0)])])]),e("main",null,[c.value?(l(),d("div",Ye,[...t[1]||(t[1]=[e("div",{class:"spinner"},null,-1),e("p",null,"Cargando...",-1)])])):s.value?(l(),O(Fe,{key:2,user:s.value},null,8,["user"])):(l(),O(Ue,{key:1}))])]))}},Je=T(Ze,[["__scopeId","data-v-7a2cd457"]]),L=U(Je);L.use(R,{firebaseApp:C});L.mount("#app");
